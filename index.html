<script>
    // CONFIGURACI√ìN - Cambia estos IDs por los de tus archivos en Google Drive
    const config = {
        // IMPORTANTE: Para que las im√°genes funcionen en Google Drive:
        // 1. Sube tu imagen a Google Drive
        // 2. Haz clic derecho > Compartir
        // 3. Cambia a "Cualquiera con el enlace puede VER"
        // 4. La URL ser√° algo como: https://drive.google.com/file/d/ABC123XYZ/view?usp=sharing
        // 5. Copia solo la parte ABC123XYZ (el ID entre /d/ y /view)
        // 6. P√©galo abajo reemplazando TU_ID_DEL_LOGO_AQUI o TU_ID_DEL_QR_AQUI
        
        // Ejemplo de ID correcto: 1a2b3c4d5e6f7g8h9i0j
        
        downloadUrl: 'https://drive.google.com/uc?export=download&id=1agF5h9YWgcjNrCEHE0FYULz6ZwOjuuWA',
        logoId: '1fzu8a-DXyjwFTswiSlMslIzQjEyiYmaG',  // Reemplaza con el ID de tu logo (PNG o JPG)
        qrImageId: '1wtapZHeOFyT83qdonY_Noypc8nDvaE8j',  // ID CORRECTO del c√≥digo QR
        fileName: 'Informe_AMJB_Bomberos_Chiapas.pdf'
    };
    
    document.addEventListener('DOMContentLoaded', function() {
        // Configurar descarga
        document.getElementById('downloadBtn').addEventListener('click', function() {
            const link = document.createElement('a');
            link.href = config.downloadUrl;
            link.download = config.fileName;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        });
        
        // Cargar im√°genes desde Google Drive
        function loadImageFromDrive(elementId, driveFileId) {
            // Verificar que el ID no sea el placeholder
            if (!driveFileId || 
                driveFileId === '177IDkLltdQeXrJMTjWQGFWGsf3m9cC8u' || 
                driveFileId === '177IDkLltdQeXrJMTjWQGFWGsf3m9cC8u' ||
                driveFileId === '1agF5h9YWgcjNrCEHE0FYULz6ZwOjuuWA') {
                console.log('‚ö†Ô∏è Por favor configura el ID de ' + elementId + ' en el c√≥digo');
                return;
            }
            
            const imgElement = document.getElementById(elementId);
            if (imgElement) {
                // Usar la URL correcta para visualizar im√°genes de Google Drive
                // Esta URL funciona mejor para PNG y JPG
                const imageUrl = `https://lh3.googleusercontent.com/d/${driveFileId}`;
                
                console.log('üñºÔ∏è Intentando cargar imagen para ' + elementId + ' con ID: ' + driveFileId);
                
                imgElement.src = imageUrl;
                
                // Si falla con lh3, intentar con drive.google.com
                imgElement.onerror = function() {
                    console.log('‚ö†Ô∏è Error con lh3, intentando m√©todo alternativo...');
                    const alternativeUrl = `https://drive.google.com/uc?export=view&id=${driveFileId}`;
                    imgElement.src = alternativeUrl;
                    
                    imgElement.onerror = function() {
                        console.error('‚ùå Error al cargar la imagen con ID: ' + driveFileId);
                        console.error('Verifica que:');
                        console.error('1. El ID sea correcto');
                        console.error('2. El archivo est√© compartido como "Cualquiera con el enlace"');
                        console.error('3. El archivo sea PNG o JPG');
                    };
                };
                
                imgElement.onload = function() {
                    console.log('‚úÖ Imagen cargada correctamente: ' + elementId);
                };
            }
        }
        
        // Cargar las im√°genes
        loadImageFromDrive('logo', config.logoId);
        loadImageFromDrive('qrImage', config.qrImageId);
    });
    
    // Seguridad
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
        return false;
    });
    
    document.addEventListener('dragstart', function(e) {
        if (e.target.tagName === 'IMG') {
            e.preventDefault();
            return false;
        }
    });
</script>
